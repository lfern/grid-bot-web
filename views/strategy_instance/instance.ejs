<div class="container-fluid">
  <div class="row vh-100" style="padding-top: 36px;">
    <div class="col-md-12">
      <h5>
        Grid: 
        <%= instance.strategy.strategy_name %> - 
        <%= instance.strategy.account.account_name %> -
        <%= instance.strategy.account.exchange.exchange_desc %> -
        <%= instance.strategy.account.account_type.account_type_name %>
        <%= instance.strategy.account.paper?"(paper)":"" %>
        <% if (instance.started_at) { %>
          ( <%= instance.started_at %> 
          <% if (instance.stopped_at) { %>
            - <%= instance.stopped_at %>
          <% } %>
          )
        <% } %>

        <% if (instance.running) { %>
          <form class="form-inline float-right" action="/strategy-instance/<%= instance.id %>/stop" method="post">
            <button class="btn btn-danger btn-sm" type="submit">Stop</button>
          </form>             
        <% } %>
      </h5>
      <table id="grid" data-instance="<%= instance.id %>" class="table table-striped table-bordered table-sm grid-bot-table" cellspacing="0">
        <thead>
          <tr>
            <th class="grid-price-col" scope="col">Price</th>
            <th class="grid-idbuy-col" scope="col">IdBuy</th>
            <th class="grid-qty-col" scope="col">QtyBuy</th>
            <th class="grid-qty-col" scope="col">SizeBuy</th>
            <th class="grid-idsell-col" scope="col">IdSell</th>
            <th class="grid-qty-col" scope="col">QtySell</th>
            <th class="grid-qty-col" scope="col">SizeSell</th>
            <th class="grid-position-col" scope="col">Position</th>
            <th class="grid-qty-col" scope="col">OrderQty</th>
            <th class="grid-side-col" scope="col">Side</th>
            <th class="grid-active-col" scope="col">Active</th>
            <th class="grid-idbuy-col" scope="col">GridOrder</th>
            <th class="grid-exchorder-col" scope="col">OrderExchange</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Price</td>
            <td>IdBuy</td>
            <td>QtyBuy</td>
            <td>SizeBuy</td>
            <td>IdSell</td>
            <td>QtySell</td>
            <td>SizeSell</td>
            <td>Position</td>
            <td>OrderQty</td>
            <td>Side</td>
            <td>Active</td>
            <td>GridOrder</td>
            <td>OrderExchange</td>
          </tr>
          <tr>
            <td>Price</td>
            <td>IdBuy</td>
            <td>QtyBuy</td>
            <td>SizeBuy</td>
            <td>IdSell</td>
            <td>QtySell</td>
            <td>SizeSell</td>
            <td>Position</td>
            <td>OrderQty</td>
            <td>Side</td>
            <td>Active</td>
            <td>GridOrder</td>
            <td>OrderExchange</td>
          </tr><tr>
            <td>Price</td>
            <td>IdBuy</td>
            <td>QtyBuy</td>
            <td>SizeBuy</td>
            <td>IdSell</td>
            <td>QtySell</td>
            <td>SizeSell</td>
            <td>Position</td>
            <td>OrderQty</td>
            <td>Side</td>
            <td>Active</td>
            <td>GridOrder</td>
            <td>OrderExchange</td>
          </tr><tr>
            <td>Price</td>
            <td>IdBuy</td>
            <td>QtyBuy</td>
            <td>SizeBuy</td>
            <td>IdSell</td>
            <td>QtySell</td>
            <td>SizeSell</td>
            <td>Position</td>
            <td>OrderQty</td>
            <td>Side</td>
            <td>Active</td>
            <td>GridOrder</td>
            <td>OrderExchange</td>
          </tr><tr>
            <td>Price</td>
            <td>IdBuy</td>
            <td>QtyBuy</td>
            <td>SizeBuy</td>
            <td>IdSell</td>
            <td>QtySell</td>
            <td>SizeSell</td>
            <td>Position</td>
            <td>OrderQty</td>
            <td>Side</td>
            <td>Active</td>
            <td>GridOrder</td>
            <td>OrderExchange</td>
          </tr><tr>
            <td>Price</td>
            <td>IdBuy</td>
            <td>QtyBuy</td>
            <td>SizeBuy</td>
            <td>IdSell</td>
            <td>QtySell</td>
            <td>SizeSell</td>
            <td>Position</td>
            <td>OrderQty</td>
            <td>Side</td>
            <td>Active</td>
            <td>GridOrder</td>
            <td>OrderExchange</td>
          </tr>

        </tbody>
      </table>
    </div>
    <div class="col-md-12">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-6">
            <h5>Orders</h5>
            <table id="orders" class="table table-striped table-bordered table-sm grid-bot-table" cellspacing="0">
              <thead>
                <tr>
                  <th class="grid-price-col" scope="col">Price</th>
                  <th class="grid-qty-col" scope="col">Amount</th>
                  <th class="grid-price-col" scope="col">Cost</th>
                  <th class="grid-side-col" scope="col">Side</th>
                  <th class="grid-status-col" scope="col">Status</th>
                  <th class="grid-date-col" scope="col">Date</th>
                  <th class="grid-qty-col" scope="col">Filled</th>
                  <th class="grid-price-col" scope="col">Average</th>
                  <th class="grid-exchorder-col" scope="col">Order</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Price</td>
                  <td>Amount</td>
                  <td>Cost</td>
                  <td>Side</td>
                  <td>Status</td>
                  <td>Date</td>
                  <td>Filled</td>
                  <td>Average</td>
                  <td>OrderExchange</td>
                </tr>
                <tr>
                  <td>Price</td>
                  <td>Amount</td>
                  <td>Cost</td>
                  <td>Side</td>
                  <td>Status</td>
                  <td>Date</td>
                  <td>Filled</td>
                  <td>Average</td>
                  <td>OrderExchange</td>
                </tr>
                <tr>
                  <td>Price</td>
                  <td>Amount</td>
                  <td>Cost</td>
                  <td>Side</td>
                  <td>Status</td>
                  <td>Date</td>
                  <td>Filled</td>
                  <td>Average</td>
                  <td>OrderExchange</td>
                </tr>
                <tr>
                  <td>Price</td>
                  <td>Amount</td>
                  <td>Cost</td>
                  <td>Side</td>
                  <td>Status</td>
                  <td>Date</td>
                  <td>Filled</td>
                  <td>Average</td>
                  <td>OrderExchange</td>
                </tr>
                <tr>
                  <td>Price</td>
                  <td>Amount</td>
                  <td>Cost</td>
                  <td>Side</td>
                  <td>Status</td>
                  <td>Date</td>
                  <td>Filled</td>
                  <td>Average</td>
                  <td>OrderExchange</td>
                </tr>
                <tr>
                  <td>Price</td>
                  <td>Amount</td>
                  <td>Cost</td>
                  <td>Side</td>
                  <td>Status</td>
                  <td>Date</td>
                  <td>Filled</td>
                  <td>Average</td>
                  <td>OrderExchange</td>
                </tr>            
              </tbody>
            </table>
          </div>
          <div class="col-md-6">
            <h5>Trades</h5>
            <table id="trades" class="table table-striped table-bordered table-sm grid-bot-table" cellspacing="0">
              <thead>
                <tr>
                  <th class="grid-price-col" scope="col">Price</th>
                  <th class="grid-qty-col" scope="col">Amount</th>
                  <th class="grid-price-col" scope="col">Cost</th>
                  <th class="grid-qty-col" scope="col">Fee</th>
                  <th class="grid-side-col" scope="col">FeeCoin</th>
                  <th class="grid-date-col" scope="col">Date</th>
                  <th class="grid-exchorder-col" scope="col">Order</th>
                  <th class="grid-exchorder-col" scope="col">Id</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Price</td>
                  <td>Amount</td>
                  <td>Cost</td>
                  <td>Fee</td>
                  <td>FeeCoin</td>
                  <td>Date</td>
                  <td>Order</td>
                  <td>Id</td>
                </tr>
                <tr>
                  <td>Price</td>
                  <td>Amount</td>
                  <td>Cost</td>
                  <td>Fee</td>
                  <td>FeeCoin</td>
                  <td>Date</td>
                  <td>Order</td>
                  <td>Id</td>
                </tr>
                <tr>
                  <td>Price</td>
                  <td>Amount</td>
                  <td>Cost</td>
                  <td>Fee</td>
                  <td>FeeCoin</td>
                  <td>Date</td>
                  <td>Order</td>
                  <td>Id</td>
                </tr>
                <tr>
                  <td>Price</td>
                  <td>Amount</td>
                  <td>Cost</td>
                  <td>Fee</td>
                  <td>FeeCoin</td>
                  <td>Date</td>
                  <td>Order</td>
                  <td>Id</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <h5>Events</h5>
            <table id="events" class="table table-striped table-bordered table-sm grid-bot-table" cellspacing="0">
              <thead>
                <tr>
                  <th class="grid-date-col" scope="col">Date</th>
                  <th class="grid-desc-col" scope="col">Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Price</td>
                  <td>Amount</td>
                </tr>
                <tr>
                  <td>Price</td>
                  <td>Amount</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<%- contentFor('scripts') %>
<script src="/javascripts/grid.js"></script>